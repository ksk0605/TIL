# TIL 2023-01-06

![스크린샷 2023-01-06 오후 2.28.56.png](TIL%202023-01-06%206c318240f1be47fa83e9e36d130e33d6/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-06_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.28.56.png)

- 의존관계에서 OrderService 는 discountPolicy 의 인터페이스 뿐 아니라 실제 코드인 구현객체까지 의존하고 있는 문제가 있음
- 이것으로 인해 내가 직접 OrderServiceImpl 구현객체 코드를 변경해야만 함.
    - **OCP**위반
        - 확장에는 열려있고 수정에는 폐쇄적이여야 함
- **구체화가 아닌 추상에만 의존해야한다**는 **DIP**를 위반하는 코드

![스크린샷 2023-01-06 오후 2.38.26.png](TIL%202023-01-06%206c318240f1be47fa83e9e36d130e33d6/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-06_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_2.38.26.png)

- 아 그럼 구현체를 빼고 추상에만 의존하고 있게 수정해볼까?!
    - 그게 되겠냐 이말이지
    - 구현객체가 없는데 NullPointException이지 당연히…
- 해결하려면 결국 어느 쪽에도 속해있지 않는 **설정자가 외부에서 주입 시켜주어야 한다**는 걸 생각해볼 수 있음!